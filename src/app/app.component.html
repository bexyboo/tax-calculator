<md-sidenav-container>
  <md-sidenav #sidenav mode="push" opened="false">
    <header class="sidenav-header">
        <md-icon (click)="sidenav.toggle()">close</md-icon>
        About
    </header>
    <div class="sidenav-content">
      <ul>
        <li>For illustration purposes only.</li>
        <li>Does not take into account additional deductions e.g. childcare vouchers.</li>
        <li>Take home amount includes National Insurance deductions.</li>
      </ul>
    </div>
    <footer class="sidenav-footer">
      <a href="http://www.codersforlabour.com" target="_blank">Made by Volunteers</a>
      <a href="http://www.codersforlabour.com" target="_blank" class="c4l"></a>
    </footer>
  </md-sidenav>
  <main>
    <header>
      <md-icon (click)="sidenav.toggle()" class="sidenav-toggle">info_outline</md-icon>
      <h1>Tax Calculator</h1>
    </header>
    <div id="slider" [ngClass]="{ 'open': !manualEntry }">
      <div class="markers">
        <div (click)="setSlider(47)" class="avg">
          <label>UK Avg</label>
        </div>
        <div (click)="setSlider(97)" class="k80">
          <label>£80k</label>
        </div>
        <div (click)="setSlider(126)" class="k150">
          <label>£150k</label>
        </div>
        <div (click)="setSlider(97)" class="top5">
          <label>Top 5%</label>
        </div>
      </div>
      <md-slider step="1" min="1" max="150" vertical (input)="onInputChange($event)" (change)="onInputChange($event)" value="47" #slider></md-slider>
    </div>
    <div id="content" [ngClass]="{ 'slider': !manualEntry }">
      <div class="results" *ngIf="current && proposed">
        <h5>Annual Salary <span *ngIf="!manualEntry">(Tap to edit)</span></h5>
        <div class="manual-input">
          <input inputmode="numeric" [(ngModel)]="salary" currencyMask [options]="{ prefix: '£', precision: '0', allowNegative: false }" maxlength="9" (click)="manualEntry = true" />
          <md-icon (click)="manualEntry = false" *ngIf="manualEntry">close</md-icon>
        </div>
        <div class="comparison">
          <div class="left">
              <h4>Current</h4>
              <h5>Tax</h5>
              <div class="amount">{{ current.tax | currency:'GBP':true:'1.2-2' }}</div>
              <h5>Take Home</h5>
              <div class="amount">{{ current.net / 12 | currency:'GBP':true:'1.2-2' }}<span>/mth</span></div>
          </div>
          <div class="right">
              <h4>Labour</h4>
              <h5>Tax</h5>
              <div class="amount">{{ proposed.tax | currency:'GBP':true:'1.2-2' }}</div>
              <h5>Take Home</h5>
              <div class="amount">{{ proposed.net / 12 | currency:'GBP':true:'1.2-2' }}<span>/mth</span></div>
          </div>
        </div>
        <div class="change">
          <h5>
            <!--<div class="change-symbols">
              <i [ngClass]="{ active: proposed.tax - current.tax > 0 }">+</i>
              /
              <i [ngClass]="{ active: proposed.tax - current.tax < 0 }">-</i>
            </div>-->
            Tax Change
          </h5>
          <div *ngIf="proposed.tax - current.tax != 0">
            <div class="amount l">{{ proposed.tax - current.tax > 0 ? '+' : '' }}{{ proposed.tax - current.tax | currency:'GBP':true:'1.2-2' }}<span>/yr</span></div>
            <div class="amount l">{{ proposed.tax - current.tax > 0 ? '+' : '' }}{{ (proposed.tax - current.tax) / 12 | currency:'GBP':true:'1.2-2' }}<span>/mth</span></div>
            <div class="amount l">{{ proposed.tax - current.tax > 0 ? '+' : '' }}{{ (proposed.tax - current.tax) / 52 | currency:'GBP':true:'1.2-2' }}<span>/wk</span></div>
          </div>
          <div class="amount xxl" *ngIf="proposed.tax - current.tax == 0">NONE</div>
        </div>
      </div>
      <!--<div class="pay-for" *ngIf="wcipfResults && wcipfResults.length > 0">
        <h3>Could pay for any of these</h3>
        <ul>
          <li *ngFor="let item of wcipfResults">
            {{ item.total | number:'1.0-0' }} {{ item.total > 1 && item.plural ? item.plural : item.name }} / yr
          </li>
        </ul>
      </div>-->
    </div>
  </main>
</md-sidenav-container>
